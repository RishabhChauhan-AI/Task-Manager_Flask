{% extends "base.html" %}
{% block title %}My Tasks{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Your Tasks</h2>
  <form action="{{ url_for('tasks.clear_tasks') }}" method="POST">
    <button type="submit" class="btn btn-danger btn-sm">Clear All</button>
  </form>
</div>

<form action="{{ url_for('tasks.add_task') }}" method="POST" class="input-group mb-4">
  <input type="text" name="title" class="form-control" placeholder="Enter new task..." required>
  <button class="btn btn-success">Add</button>
</form>

{% if tasks %}
<ul class="list-group">
  {% for task in tasks %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span>
      <strong>{{ loop.index }}.</strong> {{ task.title }}
    </span>
    <div>
      <form action="{{ url_for('tasks.toggle', id=task.id) }}" method="POST" class="d-inline">
        <button class="btn btn-sm btn-outline-secondary">{{ task.status.capitalize() }}</button>
      </form>
      <form action="{{ url_for('tasks.delete', id=task.id) }}" method="POST" class="d-inline">
        <button class="btn btn-sm btn-danger">Delete</button>
      </form>
    </div>
  </li>
  {% endfor %}
</ul>
{% else %}
<p>No tasks yet. Start by adding one above.</p>
{% endif %}
{% endblock %}
